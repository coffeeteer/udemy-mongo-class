<!DOCTYPE html>
<html>
    <head>
        
    </head>
    <body>
        <button>Click!</button>
        <script type="text/javascript" >
            //*********************** WWithout a Promise ***********************
            // function startGame(){
            //     let counter = 0;
                
            //     document.querySelector('button').addEventListener('click', () => {
            //         ++counter;
            //     });
                
            //     setTimeout(() => {
            //         if (counter > 5) {
            //             console.log('You\'ve won! Your clicks ' + counter);
            //         } else {
            //             console.log('Sorry you\'ve lost!');
            //         }
            //     }, 2000);
            // }
            
            // startGame();
            
            //******************* With a Promise ************************
            function startGame() {
                let counter= 0;
                
                document.querySelector('button').addEventListener('click', () => {
                   ++counter; 
                });
                
                return new Promise((resolve, reject) => {
                    setTimeout(() => {
                        if(counter > 5){
                            resolve();
                        } else {
                            reject();
                        }
                    }, 2000)
                });
            
            }
            
            startGame()
                .then(() => {console.log('You\'ve won!')})
                .catch(() => {console.log('You\'ve lost!')});
        </script>
    </body>
</html>